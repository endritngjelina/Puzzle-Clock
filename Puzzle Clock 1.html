<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Puzzle Clock - Time Decoder Challenge</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            max-width: 800px;
            width: 90%;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .title {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.5rem;
        }

        .subtitle {
            color: #666;
            font-size: 1.1rem;
            margin-bottom: 1rem;
        }

        .mode-selector {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .mode-btn {
            padding: 0.7rem 1.2rem;
            border: none;
            border-radius: 25px;
            background: #f0f0f0;
            color: #333;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .mode-btn:hover {
            background: #e0e0e0;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .mode-btn.active {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .clock-display {
            text-align: center;
            padding: 3rem 1rem;
            background: #f8f9fa;
            border-radius: 15px;
            margin-bottom: 2rem;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            border: 2px solid #e9ecef;
        }

        .puzzle-time {
            font-size: 3rem;
            font-weight: 700;
            font-family: 'Courier New', monospace;
            letter-spacing: 0.1em;
            color: #2c3e50;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            line-height: 1.2;
        }

        .color-blocks {
            display: flex;
            gap: 0.5rem;
            justify-content: center;
            flex-wrap: wrap;
            margin: 1rem 0;
        }

        .color-block {
            width: 60px;
            height: 60px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            border: 2px solid #fff;
            transition: transform 0.3s ease;
            position: relative;
        }

        .color-block:hover {
            transform: scale(1.1);
        }

        .color-block::after {
            content: attr(data-value);
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.8rem;
            font-weight: bold;
            color: #666;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .show-hints .color-block::after {
            opacity: 1;
        }

        .answer-section {
            background: #fff;
            padding: 1.5rem;
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            margin-bottom: 1.5rem;
        }

        .answer-input {
            display: flex;
            gap: 1rem;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 1rem;
        }

        .time-input {
            padding: 0.8rem 1rem;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            text-align: center;
            width: 80px;
            transition: all 0.3s ease;
        }

        .time-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .submit-btn, .hint-btn, .reset-btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .submit-btn {
            background: linear-gradient(45deg, #28a745, #20c997);
            color: white;
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(40, 167, 69, 0.4);
        }

        .hint-btn {
            background: linear-gradient(45deg, #ffc107, #ff8c00);
            color: white;
            box-shadow: 0 4px 12px rgba(255, 193, 7, 0.3);
        }

        .reset-btn {
            background: linear-gradient(45deg, #dc3545, #c82333);
            color: white;
            box-shadow: 0 4px 12px rgba(220, 53, 69, 0.3);
        }

        .feedback {
            text-align: center;
            padding: 1rem;
            border-radius: 10px;
            font-weight: 600;
            font-size: 1.1rem;
            margin-top: 1rem;
            transition: all 0.3s ease;
        }

        .feedback.success {
            background: linear-gradient(45deg, #d4edda, #c3e6cb);
            color: #155724;
            border: 2px solid #c3e6cb;
        }

        .feedback.error {
            background: linear-gradient(45deg, #f8d7da, #f5c6cb);
            color: #721c24;
            border: 2px solid #f5c6cb;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .stat-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 1.5rem;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: #667eea;
            display: block;
        }

        .stat-label {
            color: #666;
            font-size: 0.9rem;
            font-weight: 600;
            margin-top: 0.5rem;
        }

        .help-section {
            background: #fff;
            padding: 1.5rem;
            border-radius: 15px;
            margin-top: 1.5rem;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
        }

        .help-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 1rem;
        }

        .help-content {
            color: #666;
            line-height: 1.6;
        }

        .binary-group {
            margin: 0.5rem 0;
            font-size: 1.8rem;
            letter-spacing: 0.2em;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
            margin: 1rem 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #667eea, #764ba2);
            width: 0%;
            transition: width 0.3s ease;
        }

        @media (max-width: 768px) {
            .container {
                padding: 1.5rem;
                margin: 1rem;
            }
            
            .title {
                font-size: 2rem;
            }
            
            .puzzle-time {
                font-size: 2rem;
            }
            
            .color-block {
                width: 45px;
                height: 45px;
            }
            
            .stats {
                grid-template-columns: 1fr 1fr;
            }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .celebration {
            animation: celebration 0.6s ease-in-out;
        }

        @keyframes celebration {
            0% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.1) rotate(-5deg); }
            75% { transform: scale(1.1) rotate(5deg); }
            100% { transform: scale(1) rotate(0deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">🧩 Puzzle Clock</h1>
            <p class="subtitle">Decode the time and challenge your mind daily!</p>
        </div>

        <div class="mode-selector">
            <button class="mode-btn active" data-mode="binary">Binary Mode</button>
            <button class="mode-btn" data-mode="emoji">Emoji Mode</button>
            <button class="mode-btn" data-mode="color">Color Mode</button>
            <button class="mode-btn" data-mode="morse">Morse Code</button>
            <button class="mode-btn" data-mode="roman">Roman Mode</button>
        </div>

        <div class="clock-display">
            <div id="puzzle-display" class="puzzle-time"></div>
            <div id="color-display" class="color-blocks" style="display: none;"></div>
        </div>

        <div class="answer-section">
            <div class="answer-input">
                <input type="number" id="hours" class="time-input" placeholder="HH" min="0" max="23">
                <span style="font-size: 1.5rem; font-weight: bold;">:</span>
                <input type="number" id="minutes" class="time-input" placeholder="MM" min="0" max="59">
                <span style="font-size: 1.5rem; font-weight: bold;">:</span>
                <input type="number" id="seconds" class="time-input" placeholder="SS" min="0" max="59">
            </div>
            
            <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                <button id="submit-btn" class="submit-btn">🎯 Submit Answer</button>
                <button id="hint-btn" class="hint-btn">💡 Show Hint</button>
                <button id="reset-btn" class="reset-btn">🔄 New Puzzle</button>
            </div>

            <div class="progress-bar">
                <div id="progress-fill" class="progress-fill"></div>
            </div>
            
            <div id="feedback" class="feedback" style="display: none;"></div>
        </div>

        <div class="stats">
            <div class="stat-card">
                <span id="correct-count" class="stat-number">0</span>
                <div class="stat-label">Correct Answers</div>
            </div>
            <div class="stat-card">
                <span id="total-attempts" class="stat-number">0</span>
                <div class="stat-label">Total Attempts</div>
            </div>
            <div class="stat-card">
                <span id="accuracy-rate" class="stat-number">0%</span>
                <div class="stat-label">Accuracy Rate</div>
            </div>
            <div class="stat-card">
                <span id="current-streak" class="stat-number">0</span>
                <div class="stat-label">Current Streak</div>
            </div>
        </div>

        <div class="help-section">
            <div class="help-title">📚 How to Play</div>
            <div id="help-content" class="help-content">
                <strong>Binary Mode:</strong> Each digit is represented in 4-bit binary. Hours, minutes, and seconds are shown as binary digits (0s and 1s).
            </div>
        </div>
    </div>

    <script>
        class PuzzleClock {
            constructor() {
                this.currentMode = 'binary';
                this.currentTime = { hours: 0, minutes: 0, seconds: 0 };
                this.stats = this.loadStats();
                this.showingHints = false;
                this.difficulty = 1;
                
                this.colorMapping = {
                    0: '#2c3e50', 1: '#e74c3c', 2: '#f39c12', 3: '#f1c40f',
                    4: '#27ae60', 5: '#16a085', 6: '#2980b9', 7: '#8e44ad',
                    8: '#34495e', 9: '#e67e22'
                };
                
                this.emojiMapping = {
                    0: '🕐', 1: '🕑', 2: '🕒', 3: '🕓', 4: '🕔',
                    5: '🕕', 6: '🕖', 7: '🕗', 8: '🕘', 9: '🕙'
                };
                
                this.morseMapping = {
                    0: '-----', 1: '.----', 2: '..---', 3: '...--', 4: '....-',
                    5: '.....', 6: '-....', 7: '--...', 8: '---..', 9: '----.'
                };
                
                this.romanMapping = {
                    0: '', 1: 'I', 2: 'II', 3: 'III', 4: 'IV',
                    5: 'V', 6: 'VI', 7: 'VII', 8: 'VIII', 9: 'IX'
                };
                
                this.init();
                this.generateNewPuzzle();
                this.updateDisplay();
                this.updateStats();
            }
            
            init() {
                // Mode selection
                document.querySelectorAll('.mode-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        document.querySelector('.mode-btn.active').classList.remove('active');
                        e.target.classList.add('active');
                        this.currentMode = e.target.dataset.mode;
                        this.generateNewPuzzle();
                        this.updateDisplay();
                        this.updateHelpText();
                        this.showingHints = false;
                        document.getElementById('color-display').classList.remove('show-hints');
                    });
                });
                
                // Submit button
                document.getElementById('submit-btn').addEventListener('click', () => {
                    this.checkAnswer();
                });
                
                // Hint button
                document.getElementById('hint-btn').addEventListener('click', () => {
                    this.showHint();
                });
                
                // Reset button
                document.getElementById('reset-btn').addEventListener('click', () => {
                    this.generateNewPuzzle();
                    this.updateDisplay();
                    this.clearInputs();
                    this.hideFeedback();
                });
                
                // Enter key submission
                document.querySelectorAll('.time-input').forEach(input => {
                    input.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') {
                            this.checkAnswer();
                        }
                    });
                    
                    input.addEventListener('input', (e) => {
                        this.updateProgress();
                    });
                });
                
                this.updateHelpText();
            }
            
            generateNewPuzzle() {
                const now = new Date();
                // Add some randomization to make it more challenging
                const randomOffset = Math.floor(Math.random() * 86400); // Random seconds in a day
                const puzzleTime = new Date(now.getTime() + randomOffset * 1000);
                
                this.currentTime = {
                    hours: puzzleTime.getHours(),
                    minutes: puzzleTime.getMinutes(),
                    seconds: puzzleTime.getSeconds()
                };
            }
            
            updateDisplay() {
                const display = document.getElementById('puzzle-display');
                const colorDisplay = document.getElementById('color-display');
                
                // Hide all displays first
                display.style.display = 'block';
                colorDisplay.style.display = 'none';
                
                switch(this.currentMode) {
                    case 'binary':
                        display.innerHTML = this.getBinaryTime();
                        break;
                    case 'emoji':
                        display.innerHTML = this.getEmojiTime();
                        break;
                    case 'color':
                        display.style.display = 'none';
                        colorDisplay.style.display = 'flex';
                        this.displayColorTime();
                        break;
                    case 'morse':
                        display.innerHTML = this.getMorseTime();
                        break;
                    case 'roman':
                        display.innerHTML = this.getRomanTime();
                        break;
                }
            }
            
            getBinaryTime() {
                const h1 = Math.floor(this.currentTime.hours / 10);
                const h2 = this.currentTime.hours % 10;
                const m1 = Math.floor(this.currentTime.minutes / 10);
                const m2 = this.currentTime.minutes % 10;
                const s1 = Math.floor(this.currentTime.seconds / 10);
                const s2 = this.currentTime.seconds % 10;
                
                return `
                    <div class="binary-group">${this.toBinary(h1)} ${this.toBinary(h2)}</div>
                    <div class="binary-group">${this.toBinary(m1)} ${this.toBinary(m2)}</div>
                    <div class="binary-group">${this.toBinary(s1)} ${this.toBinary(s2)}</div>
                `;
            }
            
            getEmojiTime() {
                const timeStr = this.formatTime();
                return timeStr.split('').map(char => {
                    if (char === ':') return '⏰';
                    return this.emojiMapping[parseInt(char)] || char;
                }).join(' ');
            }
            
            displayColorTime() {
                const colorDisplay = document.getElementById('color-display');
                const timeStr = this.formatTime().replace(/:/g, '');
                
                colorDisplay.innerHTML = '';
                timeStr.split('').forEach((digit, index) => {
                    const block = document.createElement('div');
                    block.className = 'color-block';
                    block.style.backgroundColor = this.colorMapping[parseInt(digit)];
                    block.dataset.value = digit;
                    colorDisplay.appendChild(block);
                });
            }
            
            getMorseTime() {
                const timeStr = this.formatTime();
                return timeStr.split('').map(char => {
                    if (char === ':') return ' / ';
                    return this.morseMapping[parseInt(char)] || char;
                }).join(' ');
            }
            
            getRomanTime() {
                const h = this.currentTime.hours;
                const m = this.currentTime.minutes;
                const s = this.currentTime.seconds;
                
                return `${this.toRoman(h)} : ${this.toRoman(m)} : ${this.toRoman(s)}`;
            }
            
            toBinary(num) {
                return num.toString(2).padStart(4, '0');
            }
            
            toRoman(num) {
                if (num === 0) return 'N';
                if (num >= 60) return 'LX+';
                
                const romanNumerals = [
                    {value: 50, symbol: 'L'},
                    {value: 40, symbol: 'XL'},
                    {value: 10, symbol: 'X'},
                    {value: 9, symbol: 'IX'},
                    {value: 5, symbol: 'V'},
                    {value: 4, symbol: 'IV'},
                    {value: 1, symbol: 'I'}
                ];
                
                let result = '';
                for (let {value, symbol} of romanNumerals) {
                    while (num >= value) {
                        result += symbol;
                        num -= value;
                    }
                }
                return result;
            }
            
            formatTime() {
                return `${this.currentTime.hours.toString().padStart(2, '0')}:${this.currentTime.minutes.toString().padStart(2, '0')}:${this.currentTime.seconds.toString().padStart(2, '0')}`;
            }
            
            checkAnswer() {
                const hours = parseInt(document.getElementById('hours').value) || 0;
                const minutes = parseInt(document.getElementById('minutes').value) || 0;
                const seconds = parseInt(document.getElementById('seconds').value) || 0;
                
                const isCorrect = hours === this.currentTime.hours && 
                                minutes === this.currentTime.minutes && 
                                seconds === this.currentTime.seconds;
                
                this.stats.totalAttempts++;
                
                if (isCorrect) {
                    this.stats.correctAnswers++;
                    this.stats.currentStreak++;
                    this.stats.bestStreak = Math.max(this.stats.bestStreak, this.stats.currentStreak);
                    this.showFeedback(`🎉 Correct! The time was ${this.formatTime()}`, 'success');
                    document.querySelector('.container').classList.add('celebration');
                    setTimeout(() => document.querySelector('.container').classList.remove('celebration'), 600);
                } else {
                    this.stats.currentStreak = 0;
                    this.showFeedback(`❌ Wrong! The correct time was ${this.formatTime()}. Try again!`, 'error');
                    document.querySelector('.clock-display').classList.add('pulse');
                    setTimeout(() => document.querySelector('.clock-display').classList.remove('pulse'), 2000);
                }
                
                this.updateStats();
                this.saveStats();
                this.updateProgress();
            }
            
            showHint() {
                this.showingHints = !this.showingHints;
                
                if (this.currentMode === 'color') {
                    document.getElementById('color-display').classList.toggle('show-hints');
                } else {
                    const actualTime = this.formatTime();
                    const hintText = this.showingHints ? 
                        `💡 Hint: The actual time is ${actualTime}` : 
                        '';
                    
                    if (hintText) {
                        this.showFeedback(hintText, 'info');
                    } else {
                        this.hideFeedback();
                    }
                }
            }
            
            showFeedback(message, type) {
                const feedback = document.getElementById('feedback');
                feedback.textContent = message;
                feedback.className = `feedback ${type}`;
                feedback.style.display = 'block';
            }
            
            hideFeedback() {
                document.getElementById('feedback').style.display = 'none';
            }
            
            clearInputs() {
                document.getElementById('hours').value = '';
                document.getElementById('minutes').value = '';
                document.getElementById('seconds').value = '';
                this.updateProgress();
            }
            
            updateProgress() {
                const hours = document.getElementById('hours').value;
                const minutes = document.getElementById('minutes').value;
                const seconds = document.getElementById('seconds').value;
                
                let filled = 0;
                if (hours) filled += 33.33;
                if (minutes) filled += 33.33;
                if (seconds) filled += 33.34;
                
                document.getElementById('progress-fill').style.width = `${filled}%`;
            }
            
            updateStats() {
                document.getElementById('correct-count').textContent = this.stats.correctAnswers;
                document.getElementById('total-attempts').textContent = this.stats.totalAttempts;
                document.getElementById('current-streak').textContent = this.stats.currentStreak;
                
                const accuracy = this.stats.totalAttempts > 0 ? 
                    Math.round((this.stats.correctAnswers / this.stats.totalAttempts) * 100) : 0;
                document.getElementById('accuracy-rate').textContent = `${accuracy}%`;
            }
            
            updateHelpText() {
                const helpContent = document.getElementById('help-content');
                const helpTexts = {
                    binary: '<strong>Binary Mode:</strong> Each digit (0-9) is shown in 4-bit binary. Decode each group to find hours, minutes, and seconds.',
                    emoji: '<strong>Emoji Mode:</strong> Numbers are represented by clock emojis (🕐=0, 🕑=1, etc.) and ⏰ represents the colon separator.',
                    color: '<strong>Color Mode:</strong> Each digit has a unique color. Hover over blocks to see hints when hint mode is active.',
                    morse: '<strong>Morse Code Mode:</strong> Numbers are in Morse code (0=-----, 1=.----, etc.) with "/" separating time components.',
                    roman: '<strong>Roman Mode:</strong> Time displayed in Roman numerals. "N" represents 0, numbers over 59 show as "LX+".'
                };
                helpContent.innerHTML = helpTexts[this.currentMode];
            }
            
            loadStats() {
                const defaultStats = {
                    correctAnswers: 0,
                    totalAttempts: 0,
                    currentStreak: 0,
                    bestStreak: 0
                };
                
                // Using a simple variable instead of localStorage
                return window.puzzleClockStats || defaultStats;
            }
            
            saveStats() {
                window.puzzleClockStats = this.stats;
            }
        }
        
        // Initialize the puzzle clock when page loads
        document.addEventListener('DOMContentLoaded', () => {
            new PuzzleClock();
        });
    </script>
</body>
</html>